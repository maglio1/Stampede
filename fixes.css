/* fixes.css — mobile & desktop polish + hero centering + modal safety */

/* --- Modal visibility safety --- */
.modal-backdrop[aria-hidden="true"] { display: none !important; }
.modal-backdrop[aria-hidden="false"],
.modal-backdrop.is-open { display: flex !important; }
.modal-backdrop { align-items: center; justify-content: center; }

/* --- Base: images & container --- */
img { max-width: 100%; height: auto; display: block; }
.container { width: 100%; max-width: 1200px; margin: 0 auto; padding-inline: 16px; }

/* --- Scalable type --- */
:root {
  --step-s: clamp(15px, 3.5vw, 18px);
  --step-m: clamp(18px, 4.5vw, 20px);
  --step-l: clamp(28px, 6vw, 48px);
}
.hero-title { font-size: var(--step-l); line-height: 1.1; }
.hero-sub, .sub, .card-copy, .tagline { font-size: var(--step-s); }

/* --- Buttons/tap targets --- */
.btn { min-height: 44px; line-height: 1.1; }
nav .navlinks a, nav .navlinks .btn { min-height: 40px; }
a.btn, button.btn { display: inline-flex; align-items: center; justify-content: center; text-decoration: none; }

/* --- Forms --- */
input, select, textarea { font-size: 16px; padding: 10px 12px; }
label { font-size: 14px; }

/* ===========================================================
   HERO: hard-center the whole block (text + image)
   =========================================================== */
header.hero {
  /* keep the gradient/visuals you already have via styles.css */
}
header.hero .container.hero-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;     /* perfectly balanced */
  align-items: center;                 /* vertical alignment */
  justify-items: center;               /* horizontal alignment of grid items */
  gap: 48px;
  max-width: 1200px;                   /* clamp total width */
  margin: 0 auto;                      /* CENTER the whole grid on the page */
  padding-block: clamp(32px, 6vw, 72px);
}

.hero-copy { 
  width: 100%;
  max-width: 640px;
  margin: 0 auto;                      /* center the text block’s own box */
  text-align: center;                  /* center headings & body */
}

.hero-visual { 
  width: 100%;
  display: grid; place-items: center;
}
.hero-visual img { 
  width: min(420px, 100%); 
  height: auto; 
  border-radius: 12px;
}

/* If any legacy offsets linger, neutralize them */
.hero-copy, .hero-visual { margin-left: 0 !important; }

/* --- “Real results…” note: perfect vertical centering vs section below --- */
.kpi-note {
  margin: clamp(18px, 3.2vw, 28px) auto clamp(18px, 3.2vw, 28px);
  text-align: center;
}

/* --- Grids & layout --- */
.grid.grid-3x2 { display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 16px; }
.form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.form-grid .full { grid-column: 1 / -1; }
.contact-wrap { display: grid; grid-template-columns: 360px 1fr; gap: 24px; align-items: start; }
.contact-brand img { width: 100%; height: auto; }

/* --- KPI tiles --- */
.kpis { display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 12px; }
.kpi .num { font-size: clamp(20px, 6vw, 32px); }

/* --- Nav & sticky CTA --- */
.navlinks { display: flex; gap: 10px; flex-wrap: wrap; }
.sticky-cta { position: sticky; bottom: 0; z-index: 50; }
.sticky-cta .inner.container {
  display: flex; gap: 10px; align-items: center; justify-content: center; flex-wrap: wrap;
  padding: 10px 12px; padding-bottom: calc(env(safe-area-inset-bottom, 0) + 10px);
  backdrop-filter: saturate(120%) blur(6px);
}
.sticky-cta .btn { min-width: 180px; }

/* --- Optional link style --- */
.phone-link { opacity: .9; }

/* --- Prevent “reader mode” duplicating content --- */
main[role="main"], main { contain: content; }

/* --- Modal sizing protection --- */
.modal { max-width: min(720px, 92vw); width: 100%; }
.modal .content { max-height: 70vh; overflow: auto; }

/* ===========================================================
   RESPONSIVE
   =========================================================== */

/* Tablet portrait (iPad 768–1024) */
@media (max-width: 1024px) {
  header.hero .container.hero-grid {
    grid-template-columns: 1fr;         /* stack */
    text-align: center;
    gap: 36px;
  }
  .hero-visual { order: 2; }            /* keep copy first, image second */
  .grid.grid-3x2 { grid-template-columns: 1fr 1fr; }
  .contact-wrap { grid-template-columns: 1fr; }
  .kpis { grid-template-columns: repeat(3, minmax(0,1fr)); }
}

/* Large phones / small tablets */
@media (max-width: 912px) and (max-height: 1180px) {
  .grid.grid-3x2 { grid-template-columns: 1fr 1fr; }
}

/* Standard phones */
@media (max-width: 768px) {
  .grid.grid-3x2 { grid-template-columns: 1fr 1fr; }
  .form-grid { grid-template-columns: 1fr; }
  .cta { display: grid; gap: 10px; grid-template-columns: 1fr 1fr; }
  .btn { width: 100%; }
  .kpis { grid-template-columns: 1fr 1fr; }
}

/* Small phones */
@media (max-width: 520px) {
  .cta { grid-template-columns: 1fr; }
  nav .navlinks a, nav .navlinks .btn { flex: 1 1 auto; }
  .kpis { grid-template-columns: 1fr; }
  .contact-brand img { max-width: 260px; margin-inline: auto; }
}

/* Very short heights */
@media (max-height: 540px) {
  .modal .content { max-height: 58vh; }
}
